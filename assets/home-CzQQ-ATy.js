import{w as E,r as h,j as e}from"./jsx-runtime-BI0qfw_o.js";function I(x,a){return a?`${a} ${x}`:x}function B({}){return[{title:"Cocktail Generator"},{name:"description",content:"Discover delicious cocktail recipes"}]}const z=E(function(){const[a,m]=h.useState(null),[p,f]=h.useState(""),i=c=>{m(c),f("");const g=new CustomEvent("cocktailSearch",{detail:{searchTerm:"",categories:[c]}});document.dispatchEvent(g)},u=c=>{f(c),a&&m(null)},k=()=>{m(null);const c=new CustomEvent("cocktailSearch",{detail:{searchTerm:p.trim(),categories:[]}});document.dispatchEvent(c)};return e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx(L,{selectedCategory:a,onCategoryChange:i,searchTerm:p,onSearchTermChange:u,onSearch:k}),e.jsx(M,{}),e.jsx(F,{})]})});function L({selectedCategory:x,onCategoryChange:a,searchTerm:m,onSearchTermChange:p,onSearch:f}){const[i,u]=h.useState(!1),k=["Ordinary Drink","Cocktail","Shake","Cocoa","Shot","Coffee / Tea","Homemade Liqueur","Punch / Party Drink","Beer","Soft Drink"],c=o=>{p(o.target.value)},g=o=>{o.key==="Enter"&&m.trim()&&f()},w=()=>{m.trim()&&f(),i&&u(!1)};return e.jsxs("header",{className:"w-full bg-[#0a0a0a] border-b border-[#9e8a55]/20",children:[e.jsx("div",{className:"w-full px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-[#c6a964] to-[#e9d3a3] bg-clip-text text-transparent",children:"Cocktail Generator"}),e.jsx("div",{className:"hidden lg:flex relative flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"flex w-full bg-[#1a1a1a] border border-[#9e8a55]/30 rounded overflow-hidden",children:[e.jsx("input",{type:"text",placeholder:"Search cocktails...",className:"bg-transparent flex-1 text-white placeholder-[#9e8a55]/70 focus:outline-none px-4 py-2",value:m,onChange:c,onKeyDown:g}),e.jsx("button",{className:"w-[50px] h-10 flex items-center justify-center bg-[#9e8a55] hover:bg-[#c6a964] text-black transition-colors",onClick:w,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsx("button",{className:"lg:hidden ml-2 p-2 text-[#9e8a55] hover:text-[#c6a964]",onClick:()=>u(!i),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),e.jsx("div",{className:"hidden lg:block w-full bg-[#0a0a0a] mt-4 border-t border-[#9e8a55]/20",children:e.jsx("div",{className:"w-full overflow-x-auto py-3 px-4",children:e.jsx("ul",{className:"flex space-x-2 min-w-max",children:k.map(o=>e.jsx("li",{children:e.jsx("button",{onClick:()=>a(o),className:`
                    px-6 py-2 rounded-full whitespace-nowrap transition-all duration-200
                    ${x===o?"bg-[#9e8a55] text-black font-medium":"text-[#9e8a55] hover:bg-[#9e8a55]/20 hover:text-[#c6a964]"}
                    focus:outline-none focus:ring-2 focus:ring-[#9e8a55] focus:ring-opacity-50
                  `,children:o})},o))})})}),e.jsx("div",{className:"lg:hidden w-full bg-[#0a0a0a] py-3 px-6 border-t border-[#9e8a55]/20",children:e.jsxs("div",{className:"flex w-full bg-[#1a1a1a] border border-[#9e8a55]/30 rounded overflow-hidden",children:[e.jsx("input",{type:"text",placeholder:"Search cocktails...",className:"bg-transparent flex-1 text-white placeholder-[#9e8a55]/70 focus:outline-none px-4 py-2",value:m,onChange:c,onKeyDown:g}),e.jsx("button",{className:"w-[50px] h-10 flex items-center justify-center bg-[#9e8a55] hover:bg-[#c6a964] text-black transition-colors",onClick:w,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),i&&e.jsxs("div",{className:"lg:hidden fixed top-0 left-0 h-full w-64 bg-[#0a0a0a] border-r border-[#9e8a55]/20 z-50 transform translate-x-0 transition-transform duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#9e8a55]/20",children:[e.jsx("div",{className:"text-lg font-bold bg-gradient-to-r from-[#c6a964] to-[#e9d3a3] bg-clip-text text-transparent",children:"Categories"}),e.jsx("button",{className:"p-2 text-[#9e8a55] hover:text-[#c6a964]",onClick:()=>u(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("ul",{className:"flex flex-col py-2",children:k.map(o=>e.jsx("li",{children:e.jsx("button",{onClick:()=>{a(o),u(!1)},className:`
                    w-full text-left px-6 py-3 transition-all duration-200
                    ${x===o?"bg-[#9e8a55]/20 text-[#c6a964] font-medium":"text-[#9e8a55] hover:bg-[#1f1f1f] hover:text-[#c6a964]"}
                  `,children:o})},o))})]}),i&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 z-40",onClick:()=>u(!1)})]})}function M(){const[x,a]=h.useState([]),[m,p]=h.useState({}),[f,i]=h.useState(!0),[u,k]=h.useState(!1),[c,g]=h.useState(!1);h.useEffect(()=>{const t=()=>{g(window.innerWidth<576)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),h.useEffect(()=>{console.log("Initial component mount - loading random cocktails"),o()},[]),h.useEffect(()=>{const t=s=>{var l,d;const r=(l=s.detail)==null?void 0:l.searchTerm,n=((d=s.detail)==null?void 0:d.categories)||[];a([]),i(!0),n.length>0?w(n[0]):r?N(r):o()};return document.addEventListener("cocktailSearch",t),()=>{document.removeEventListener("cocktailSearch",t)}},[]);const w=async t=>{try{console.log(`Fetching drinks for category: ${t}`),i(!0),a([]);const s=await fetch(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=${encodeURIComponent(t)}`);if(!s.ok)throw new Error(`API returned status: ${s.status}`);const r=await s.json();if(!r.drinks){console.log("No drinks data returned from API"),i(!1);return}console.log(`Found ${r.drinks.length} drinks in category ${t}`);let n=[];for(let l=0;l<r.drinks.length;l++)try{const d=r.drinks[l],b=`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${d.idDrink}`;console.log(`Fetching details for drink: ${d.idDrink}`);const v=await fetch(b);if(!v.ok){console.error(`Failed to fetch details for drink ${d.idDrink}`);continue}const j=await v.json();if(j.drinks&&j.drinks[0]){n.push(j.drinks[0]);const D=[...n].sort((S,$)=>S.strDrink.localeCompare($.strDrink));a(D)}}catch(d){console.error(`Error processing drink at index ${l}:`,d)}console.log(`Successfully loaded ${n.length} drinks`)}catch(s){console.error("Error fetching cocktails by category:",s)}finally{i(!1)}},o=async()=>{try{i(!0),a([]);const t=100;let s=[];for(let r=0;r<t;r++)try{const n=await fetch("https://www.thecocktaildb.com/api/json/v1/1/random.php");if(!n.ok){console.error(`Failed to fetch random drink (attempt ${r+1})`);continue}const l=await n.json();if(l.drinks&&l.drinks[0]&&!s.some(b=>b.idDrink===l.drinks[0].idDrink)){s.push(l.drinks[0]);const b=[...s].sort((v,j)=>v.strDrink.localeCompare(j.strDrink));a(b)}}catch(n){console.error(`Error fetching random drink (attempt ${r+1}):`,n)}console.log(`Successfully loaded ${s.length} random drinks`)}catch(t){console.error("Error generating random cocktails:",t)}finally{i(!1)}},N=async t=>{try{console.log(`Searching for term: ${t}`),i(!0),a([]);const s=await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${encodeURIComponent(t)}`);if(!s.ok)throw new Error(`API returned status: ${s.status}`);const r=await s.json();if(r.drinks&&r.drinks.length>0){console.log(`Found ${r.drinks.length} drinks for search term "${t}"`);const n=[...r.drinks].sort((l,d)=>l.strDrink.localeCompare(d.strDrink));a(n)}else console.log(`No drinks found for search term "${t}"`)}catch(s){console.error("Error searching cocktails:",s)}finally{i(!1)}},y=t=>{let s=[];for(let r=1;r<=15;r++){const n=t[`strIngredient${r}`],l=t[`strMeasure${r}`];n&&s.push(I(n,l))}return s.join("，")},C=t=>{p(s=>({...s,[t]:!s[t]}))};return e.jsxs("main",{className:"w-full px-4 py-8",children:[x.length===0&&f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-xl text-[#c6a964]",children:"Loading cocktails..."})}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:x.map((t,s)=>{const r=t.idDrink||`card-${s}`,n=m[r]||!1;return e.jsx("div",{className:`flip-card-container cursor-pointer hover:scale-105 transition-transform ${n&&!c?"col-span-1":n?"col-span-2":"col-span-1"}`,onClick:()=>C(r),style:{perspective:"1000px"},children:e.jsxs("div",{className:`flip-card-inner relative w-full transition-transform duration-700 ${n?"":"aspect-square"}`,style:{transformStyle:"preserve-3d",transform:n?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsx("div",{className:"flip-card-front absolute w-full h-full bg-[#121212] border border-[#9e8a55]/20 transition-colors",style:{backfaceVisibility:"hidden"},children:e.jsxs("div",{className:"aspect-square w-full relative",children:[e.jsx("img",{src:t.strDrinkThumb,alt:t.strDrink,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4 pb-5",children:[e.jsx("h4",{className:"text-lg font-semibold text-[#e9d3a3] truncate",children:t.strDrink}),e.jsx("p",{className:"text-[#9e8a55] text-[18px] truncate",children:t.strAlcoholic})]})]})}),e.jsxs("div",{className:"flip-card-back bg-[#121212] border border-[#9e8a55]/20 w-full p-6",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)",position:n?"relative":"absolute",height:n?"auto":"100%"},children:[e.jsx("div",{className:"flex justify-between items-center mb-4 border-b border-[#9e8a55] pb-2",children:e.jsx("h5",{className:"text-xl font-bold text-[#e9d3a3] break-words",children:t.strDrink})}),e.jsxs("p",{className:"mb-3 text-[18px] font-medium text-[#c6a964]",children:["Category:",e.jsx("span",{className:"text-[#9e8a55]",children:t.strCategory})]}),e.jsxs("p",{className:"mb-3 text-[18px] font-medium text-[#c6a964]",children:["Type:",e.jsx("span",{className:"text-[#9e8a55]",children:t.strAlcoholic})]}),e.jsx("p",{className:"mb-2 text-[18px] font-medium text-[#c6a964]",children:"Ingredients:"}),e.jsx("p",{className:"mb-4 text-[18px] text-[#9e8a55] break-words",children:y(t)}),e.jsx("p",{className:"mb-2 text-[18px] font-medium text-[#c6a964]",children:"Instructions:"}),e.jsx("p",{className:"text-[18px] text-[#9e8a55] break-words",children:t.strInstructions})]})]})},r)})}),f&&x.length>0&&e.jsx("div",{className:"flex justify-center items-center py-8 mt-4",children:e.jsx("div",{className:"text-xl text-[#c6a964]",children:"Loading more cocktails..."})})]})}function F(){return e.jsx("footer",{className:"bg-[#0a0a0a] border-t border-[#9e8a55]/20 py-6 px-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-[#c6a964] to-[#e9d3a3] bg-clip-text text-transparent mb-2",children:"Cocktail Generator"}),e.jsxs("p",{className:"text-[#9e8a55] text-sm",children:["© ",new Date().getFullYear()," Discover delicious cocktail recipes"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-[#c6a964]",children:"聯絡我們"}),e.jsx("p",{className:"text-[#9e8a55] text-sm",children:"info@cocktailgen.com"}),e.jsx("p",{className:"text-[#9e8a55] text-sm",children:"+886 123 456 789"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-[#c6a964]",children:"關注我們"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{href:"#",className:"text-[#9e8a55] hover:text-[#c6a964]",children:"FB"}),e.jsx("a",{href:"#",className:"text-[#9e8a55] hover:text-[#c6a964]",children:"IG"}),e.jsx("a",{href:"#",className:"text-[#9e8a55] hover:text-[#c6a964]",children:"TW"})]})]})]})]})})})}export{z as default,B as meta};
